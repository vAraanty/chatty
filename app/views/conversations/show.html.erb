<%= turbo_stream_from "conversation_#{@conversation.id}" %>

<div class="flex flex-col items-center w-full bg-black h-screen">
  <!-- <h1 class="text-2xl font-bold"><%= @conversation.name %></h1> -->

  <div id="messages" data-controller="scroll" 
        class="w-full flex flex-col items-center bg-inherit flex-1 overflow-y-auto pb-4">
    <%= render @messages %>
  </div>

  <div class="w-full bg-black text-white mb-2">
    <%= form_with model: [@conversation, @message], 
                  local: false, 
                  class: "flex justify-between",
                  data: { 
                    controller: "reset-form", 
                    action: "turbo:submit-end->reset-form#reset" 
                  } do |form| %>
      <%= form.text_field :content, placeholder: "Type a message...", 
                                    class: "border-2 border-gray-300 rounded-md p-2 flex-1" %>
      <%= form.submit "Send", class: "bg-blue-500 text-white w-20 p-2 rounded-md ml-2" %>
    <% end %>
  </div>
</div>
